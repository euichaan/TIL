# 8강 - 패턴 매칭에 의한 검색
'LIKE' 술어를 사용하면 문자열의 일부분을 비교하는 '부분 검색'을 할 수 있습니다.  
  
`열 LIKE 패턴` 과 같이 사용합니다.  
  
= 연산자로 검색하는 경우는 셀의 데이터 값이 완전히 동일한지를 비교합니다.  
하지만 '특정 문자나 문자열이 포함되어 있는지 검색하고 싶은' 경우 패턴 매칭, 부분 검색을 사용합니다.  
  
## 1. LIKE로 패턴 매칭하기  
= 연산자로 검색할 경우에는 열 값이 완전히 일치할 때 참이 됩니다.  
LIKE 술어를 사용하면 열 값이 부분적으로 일치하는 경우에도 참이 됩니다.  
`열명 LIKE 패턴`  
  
LIKE 술어는 이항 연산자처럼 항목을 지정합니다.  
왼쪽에는 매칭 대상을 지정하고 오른쪽에는 패턴을 문자열로 지정합니다.  
단, 수치형 상수는 지정할 수 없습니다. 패턴을 정의할 때는 메타문자를 사용할 수 있습니다.  
  
'와일드카드'라고도 불리는 메타문자는 패턴 매칭 시 '임의의 문자 또는 문자열'에 매치하는 부분을 지정하기  
위해 쓰이는 특수 문자입니다. 퍼센트(%)는 임의의 문자열을 의미하며, 언더스코어(_)는 임의의 문자 하나를 의미합니다.  
패턴을 정의할 때는 메타문자를 여러 개 사용할 수 있습니다.  
  
와일드카드로 자주 쓰이는 *는 LIKE에서는 사용할 수 없습니다.  
  
`SELECT * FROM sample25 WHERE text LIKE 'SQL%'`  
문자열 도중에 존재하는 SQL을 검색하고자 한다면 다음과 같이 패턴을 바꿀 필요가 있습니다.  
  
`SELECT * FROM sample25 WHERE text LIKE '%SQL%'`  
핵심은 메타문자 %가 빈 문자열과도 매치하는 것입니다. 첫 번째 행의 경우 '%SQL%'에서 'SQL' 앞에 %에 매치하는  
문자열은 없는데도 검색이 되었습니다.  
  
%는 임의의 문자열과 매치하며, 빈 문자열에도 매치합니다.  
  
'SQL%' - 전방 일치  
'%SQL%' - 중간 일치  
'%SQL' - 후방 일치  
  
## 2.LIKE로 %를 검색하기
'이스케이프'라는 방법으로 처리할 수 있습니다.  
LIKE로 %를 검색하는 경우에는 '\%'와 같이 \를 % 앞에 붙입니다. 결국 %를 포함하는 데이터를 검색하고 싶을 경우 조건식은 다음과 같습니다.  
`WHERE text LIKE '%\%%`  
  
맨 앞의 %는 메타문자의 %입니다. 임의의 문자열과 매칭합니다.  
그 다음에 나오는 %는 앞에 \가 있어 이스케이프 된 것을 의미하기 때문에 메타문자가 아닌 일반문자 %를 의미합니다.  
  
%를 LIKE로 검색할 경우에는 \%로 합니다.  
_를 LIKE로 검색할 경우에는 \_로 합니다.  
  
## 3. 문자열 상수 '의 이스케이프
표준 SQL에서는 '를 2개 연속해서 기술하는 것으로 이스케이프 처리를 할 수 있습니다.  
예를 들면 'It's' 라는 문자열을 문자열 상수로 표기하면 'It''s'로 씁니다.  
또한 ' 하나만 문자열 데이터일 경우에는 ''''으로 쓰면 됩니다.  
  
간단한 패턴 매칭이라면 LIKE로 충분합니다만 더 복잡한 패턴을 매칭하는 경우는 정규 표현식(Regular Expression)  
을 사용하는 편이 낫습니다.  