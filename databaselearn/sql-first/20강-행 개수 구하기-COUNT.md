# 20강 - 행 개수 구하기 - COUNT
SQL은 데이터베이스라 불리는 '데이터 집합'을 다루는 언어입니다. 이 같은 집합의 개수나 합계가 궁금하다면  
SQL이 제공하는 집계함수를 사용하여 간단하게 구할 수 있습니다.  
  
## 1. COUNT로 행 개수 구하기
SQL은 집합을 다루는 집계함수를 제공합니다. 일반적인 함수는 인수로 하나의 값을 지정하는 데 비해 집계함수는 인수로 집합을 지정합니다.  
즉, 집합을 특정 방법으로 계산하여 그 결과를 반환합니다.  
  
COUNT함수는 인수로 주어진 집합의 '개수'를 구해 반환합니다.  
`SELECT COUNT(*) FROM sample51`;  
COUNT 집계함수에서는 '모든 열 = 테이블 전체'라는 의미로 사용됩니다.  
즉, COUNT는 인수로 지정된 집합(이 경우는 테이블 전체)의 개수를 계산하는 것입니다.  
  
집계함수의 특징은 복수의 값(집합)에서 하나의 값을 계산해내는 것입니다.  
일반적인 함수는 하나의 행에 대하여 하나의 값을 반환합니다.  
이렇게 집합으로부터 하나의 값을 계산하는 것을 '집계'라 부릅니다.  
이러한 이유로 집계함수를 SELECT 구에 쓰면 WHERE 구의 유무와 관계없이 결괏값으로 하나의 행을 반환합니다.  
  
처리 순서 : WHERE -> SELECT -> ORDER BY  
`SELECT COUNT(*) FROM sample51 WHERE name = 'A';`  
WHERE 구로 조건을 지정하면 테이블 전체가 아닌, 검색된 행이 COUNT로 넘겨집니다.  
즉, WHERE 구의 조건에 맞는 행의 개수를 구할 수 있습니다.  
1. WHERE로 행 검색 -> 2. COUNT로 행의 개수를 집계  
  
## 2. 집계함수와 NULL 값 
COUNT의 인수로 열명을 지정할 수 있습니다. 열명을 지정하면 그 열에 한해서 행의 개수를 구할 수 있습니다.  
특히 *를 인수로 사용할 수 있는 것은 COUNT 함수뿐입니다. 다른 집계함수에서는 열명이나 식을 인수로 지정합니다.  
집계함수는 집합 안에 NULL이 있을 경우 이를 제외하고 처리합니다.  
  
`SELECT COUNT(no), COUNT(name) FROM sample51;`  
다만 COUNT(*)의 경우 모든 열의 행수를 카운트하기 때문에 NULL 값이 있어도 해당 정보가 무시되지 않습니다.  
실제로 COUNT(*)를 추가해 실행하면 결과로 5가 나오는 것을 알 수 있습니다.  
  
## 3. DISTINCT로 중복 제거
데이터가 서로 중복되지 않는 경우에는 '유일한 값을 가진다'라든가 '값이 중복되지 않는다'라는 표현을 자주 합니다.  
SELECT 구에서 DISTINCT를 지정하면 중복된 데이터를 제외한 결과를 클라이언트로 반환합니다.  
중복 여부는 SELECT 구에 지정된 모든 열을 비교해 판단합니다.  

`SELECT ALL name FROM sample51;`  
이렇게 하면 중복 여부와 관계없이 문자 그대로 모든 행을 반환합니다.  
ALL 또는 DISTINCT는 중복된 값을 제거할 것인지 설정하는 스위치 역할을 합니다.  
어느 것도 지정하지 않은 경우에는 ALL로 간주됩니다.  
  
## 4. 집계함수에서 DISTINCT
집계함수의 인수로 DISTINCT를 사용한 수식을 지정할 수 있습니다.  
DISTINCT를 이용해 집합에서 중복을 제거한 뒤 COUNT로 개수를 구할 수 있습니다.  
`SELECT COUNT(ALL name), COUNT(DISTINCT name) FROM sample51;`  
